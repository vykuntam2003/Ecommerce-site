<template>
    <div class="slds-box slds-p-around_medium cards">
        <div class="card">
        
        <div class="radiobuttons">

        <lightning-radio-group label="payment Method" options={paymentOptions} value={paymentMethod}  onchange={handlePaymentChange}></lightning-radio-group>
        </div>
        <div class="boxSizes">
        <template if:true={isCard} >
         <lightning-input label="Card Number"   maxlength="19" pattern="^\d{4}\s?\d{4}\s?\d{4}\s?\d{4}$" message-when-pattern-missmatch="Enter 16 digit card  number" onchange={handleCard} required="true" type="text" ></lightning-input>
        <lightning-input label="Expiry (MM/YY)" pattern="(0[1-9]|1[0-2])\/[0-9]{2}" message-when-pattern-mismatch="Enter expiry in MM/YY format" onchange={handleExpiry} required="true" ></lightning-input>
        <lightning-input label="CVV" pattern="[0-9]{3}" message-when-pattern-mismatch="Enter 3 digit CVV" type="password" maxlength="3" onchange={handleCvv} required="true" ></lightning-input>
        </template>
        </div>
 
        <template if:true={error}>
            <p class="slds-text-color_error">{error}</p>
        </template>
        <div class="buttons">
        <lightning-button label="Proceed To Checkout" onclick={pay} variant="brand" disabled={isDisabled}></lightning-button>
        <lightning-button label="Cancel" onclick={cancel} variant="destructive"></lightning-button>
        </div>
        
        </div>
        <div class="card2">
            <template if:true={hasSingleProduct}>
            <!-- <lightning-formatted-rich-text value={product.image}></lightning-formatted-rich-text> -->
            <p><strong>{product.name}</strong></p>
            <p>Quantity: {product.quantity}</p>
            </template>
            <template if:true={haMultipleProducts}>

                <template for:each={products} for:item="product">
                    <p key ={product.id}>{product.name}</p>
                    <p key={product.id} >Quantity: {product.quantity}</p>
                </template>
            </template>
            <p>Total: {totalAmount}</p>
            
               <div class="buttons"> 
                <lightning-button label="Proceed To Checkout" onclick={pay} variant="brand" disabled={isDisabled}></lightning-button>
                <lightning-button label="Cancel" onclick={cancel} variant="destructive"></lightning-button>
                </div>
        </div>


    </div>
    
</template>